CREATE TABLE [${schema}].[Vulnerability] (
    [VulnerabilityId] UNIQUEIDENTIFIER  DEFAULT NEWID() NOT NULL,
	[Name] 	                NVARCHAR (255)   NOT NULL,
	[Description] 	        NVARCHAR (500)   NULL,
    [Severity]              TINYINT          NOT NULL,
    [Status]                TINYINT          NOT NULL,
    CONSTRAINT [PK_Vulnerability] PRIMARY KEY CLUSTERED ([VulnerabilityId] ASC)
);

CREATE TABLE [${schema}].[AssetVulnerability] (
    [AssetVulnerabilityId]  UNIQUEIDENTIFIER  DEFAULT NEWID() NOT NULL,
	[AssetId]               UNIQUEIDENTIFIER   NOT NULL,
	[VulnerabilityId]       UNIQUEIDENTIFIER   NOT NULL,
    CONSTRAINT [PK_AssetVulnerability] PRIMARY KEY CLUSTERED ([AssetVulnerabilityId] ASC),
    CONSTRAINT UC_AssetVulnerability UNIQUE (AssetId, VulnerabilityId)
);